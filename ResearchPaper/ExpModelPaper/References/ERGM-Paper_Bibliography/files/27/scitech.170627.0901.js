/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2017 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
/*!
 * Generated using the Bootstrap Customizer (http://getbootstrap.com/customize/?id=b679b5ae07100a4877244db5f4026b8b)
 * Config saved to config.json and https://gist.github.com/b679b5ae07100a4877244db5f4026b8b
 */
if(typeof jQuery==="undefined"){throw new Error("Bootstrap's JavaScript requires jQuery")}+function(b){var a=b.fn.jquery.split(" ")[0].split(".");if((a[0]<2&&a[1]<9)||(a[0]==1&&a[1]==9&&a[2]<1)||(a[0]>3)){throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}}(jQuery);+function(e){var d='[data-dismiss="alert"]';var b=function(f){e(f).on("click",d,this.close)};b.VERSION="3.3.7";b.TRANSITION_DURATION=150;b.prototype.close=function(j){var i=e(this);var g=i.attr("data-target");if(!g){g=i.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}var h=e(g==="#"?[]:g);if(j){j.preventDefault()}if(!h.length){h=i.closest(".alert")}h.trigger(j=e.Event("close.bs.alert"));if(j.isDefaultPrevented()){return}h.removeClass("in");function f(){h.detach().trigger("closed.bs.alert").remove()}e.support.transition&&h.hasClass("fade")?h.one("bsTransitionEnd",f).emulateTransitionEnd(b.TRANSITION_DURATION):f()};function c(f){return this.each(function(){var h=e(this);var g=h.data("bs.alert");if(!g){h.data("bs.alert",(g=new b(this)))}if(typeof f=="string"){g[f].call(h)}})}var a=e.fn.alert;e.fn.alert=c;e.fn.alert.Constructor=b;e.fn.alert.noConflict=function(){e.fn.alert=a;return this};e(document).on("click.bs.alert.data-api",d,b.prototype.close)}(jQuery);+function(d){var b=function(f,e){this.$element=d(f);this.options=d.extend({},b.DEFAULTS,e);this.isLoading=false};b.VERSION="3.3.7";b.DEFAULTS={loadingText:"loading..."};b.prototype.setState=function(g){var i="disabled";var e=this.$element;var h=e.is("input")?"val":"html";var f=e.data();g+="Text";if(f.resetText==null){e.data("resetText",e[h]())}setTimeout(d.proxy(function(){e[h](f[g]==null?this.options[g]:f[g]);if(g=="loadingText"){this.isLoading=true;e.addClass(i).attr(i,i).prop(i,true)}else{if(this.isLoading){this.isLoading=false;e.removeClass(i).removeAttr(i).prop(i,false)}}},this),0)};b.prototype.toggle=function(){var f=true;var e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var g=this.$element.find("input");if(g.prop("type")=="radio"){if(g.prop("checked")){f=false}e.find(".active").removeClass("active");this.$element.addClass("active")}else{if(g.prop("type")=="checkbox"){if((g.prop("checked"))!==this.$element.hasClass("active")){f=false}this.$element.toggleClass("active")}}g.prop("checked",this.$element.hasClass("active"));if(f){g.trigger("change")}}else{this.$element.attr("aria-pressed",!this.$element.hasClass("active"));this.$element.toggleClass("active")}};function c(e){return this.each(function(){var h=d(this);var g=h.data("bs.button");var f=typeof e=="object"&&e;if(!g){h.data("bs.button",(g=new b(this,f)))}if(e=="toggle"){g.toggle()}else{if(e){g.setState(e)}}})}var a=d.fn.button;d.fn.button=c;d.fn.button.Constructor=b;d.fn.button.noConflict=function(){d.fn.button=a;return this};d(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(g){var f=d(g.target).closest(".btn");c.call(f,"toggle");if(!(d(g.target).is('input[type="radio"], input[type="checkbox"]'))){g.preventDefault();if(f.is("input,button")){f.trigger("focus")}else{f.find("input:visible,button:visible").first().trigger("focus")}}}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(f){d(f.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(f.type))})}(jQuery);+function(h){var e=".dropdown-backdrop";var b='[data-toggle="dropdown"]';var a=function(i){h(i).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7";function f(k){var i=k.attr("data-target");if(!i){i=k.attr("href");i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")}var j=i&&h(i);return j&&j.length?j:k.parent()}function d(i){if(i&&i.which===3){return}h(e).remove();h(b).each(function(){var l=h(this);var k=f(l);var j={relatedTarget:this};if(!k.hasClass("open")){return}if(i&&i.type=="click"&&/input|textarea/i.test(i.target.tagName)&&h.contains(k[0],i.target)){return}k.trigger(i=h.Event("hide.bs.dropdown",j));if(i.isDefaultPrevented()){return}l.attr("aria-expanded","false");k.removeClass("open").trigger(h.Event("hidden.bs.dropdown",j))})}a.prototype.toggle=function(m){var l=h(this);if(l.is(".disabled, :disabled")){return}var k=f(l);var j=k.hasClass("open");d();if(!j){if("ontouchstart" in document.documentElement&&!k.closest(".navbar-nav").length){h(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(h(this)).on("click",d)}var i={relatedTarget:this};k.trigger(m=h.Event("show.bs.dropdown",i));if(m.isDefaultPrevented()){return}l.trigger("focus").attr("aria-expanded","true");k.toggleClass("open").trigger(h.Event("shown.bs.dropdown",i))}return false};a.prototype.keydown=function(m){if(!/(38|40|27|32)/.test(m.which)||/input|textarea/i.test(m.target.tagName)){return}var l=h(this);m.preventDefault();m.stopPropagation();if(l.is(".disabled, :disabled")){return}var k=f(l);var j=k.hasClass("open");if(!j&&m.which!=27||j&&m.which==27){if(m.which==27){k.find(b).trigger("focus")}return l.trigger("click")}var n=" li:not(.disabled):visible a";var o=k.find(".dropdown-menu"+n);if(!o.length){return}var i=o.index(m.target);if(m.which==38&&i>0){i--}if(m.which==40&&i<o.length-1){i++}if(!~i){i=0}o.eq(i).trigger("focus")};function g(i){return this.each(function(){var k=h(this);var j=k.data("bs.dropdown");if(!j){k.data("bs.dropdown",(j=new a(this)))}if(typeof i=="string"){j[i].call(k)}})}var c=h.fn.dropdown;h.fn.dropdown=g;h.fn.dropdown.Constructor=a;h.fn.dropdown.noConflict=function(){h.fn.dropdown=c;return this};h(document).on("click.bs.dropdown.data-api",d).on("click.bs.dropdown.data-api",".dropdown form",function(i){i.stopPropagation()}).on("click.bs.dropdown.data-api",b,a.prototype.toggle).on("keydown.bs.dropdown.data-api",b,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery);+function(d){var b=function(f,e){this.options=e;this.$body=d(document.body);this.$element=d(f);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=false;if(this.options.remote){this.$element.find(".modal-content").load(this.options.remote,d.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}};b.VERSION="3.3.7";b.TRANSITION_DURATION=300;b.BACKDROP_TRANSITION_DURATION=150;b.DEFAULTS={backdrop:true,keyboard:true,show:true};b.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)};b.prototype.show=function(h){var f=this;var g=d.Event("show.bs.modal",{relatedTarget:h});this.$element.trigger(g);if(this.isShown||g.isDefaultPrevented()){return}this.isShown=true;this.checkScrollbar();this.setScrollbar();this.$body.addClass("modal-open");this.escape();this.resize();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',d.proxy(this.hide,this));this.$dialog.on("mousedown.dismiss.bs.modal",function(){f.$element.one("mouseup.dismiss.bs.modal",function(i){if(d(i.target).is(f.$element)){f.ignoreBackdropClick=true}})});this.backdrop(function(){var j=d.support.transition&&f.$element.hasClass("fade");if(!f.$element.parent().length){f.$element.appendTo(f.$body)}f.$element.show().scrollTop(0);f.adjustDialog();if(j){f.$element[0].offsetWidth}f.$element.addClass("in");f.enforceFocus();var i=d.Event("shown.bs.modal",{relatedTarget:h});j?f.$dialog.one("bsTransitionEnd",function(){f.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(b.TRANSITION_DURATION):f.$element.trigger("focus").trigger(i)})};b.prototype.hide=function(f){if(f){f.preventDefault()}f=d.Event("hide.bs.modal");this.$element.trigger(f);if(!this.isShown||f.isDefaultPrevented()){return}this.isShown=false;this.escape();this.resize();d(document).off("focusin.bs.modal");this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal");this.$dialog.off("mousedown.dismiss.bs.modal");d.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",d.proxy(this.hideModal,this)).emulateTransitionEnd(b.TRANSITION_DURATION):this.hideModal()};b.prototype.enforceFocus=function(){d(document).off("focusin.bs.modal").on("focusin.bs.modal",d.proxy(function(f){if(document!==f.target&&this.$element[0]!==f.target&&!this.$element.has(f.target).length){this.$element.trigger("focus")}},this))};b.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keydown.dismiss.bs.modal",d.proxy(function(f){f.which==27&&this.hide()},this))}else{if(!this.isShown){this.$element.off("keydown.dismiss.bs.modal")}}};b.prototype.resize=function(){if(this.isShown){d(window).on("resize.bs.modal",d.proxy(this.handleUpdate,this))}else{d(window).off("resize.bs.modal")}};b.prototype.hideModal=function(){var e=this;this.$element.hide();this.backdrop(function(){e.$body.removeClass("modal-open");e.resetAdjustments();e.resetScrollbar();e.$element.trigger("hidden.bs.modal")})};b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};b.prototype.backdrop=function(i){var h=this;var f=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=d.support.transition&&f;this.$backdrop=d(document.createElement("div")).addClass("modal-backdrop "+f).appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",d.proxy(function(j){if(this.ignoreBackdropClick){this.ignoreBackdropClick=false;return}if(j.target!==j.currentTarget){return}this.options.backdrop=="static"?this.$element[0].focus():this.hide()},this));if(e){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");if(!i){return}e?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(b.BACKDROP_TRANSITION_DURATION):i()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){h.removeBackdrop();i&&i()};d.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(b.BACKDROP_TRANSITION_DURATION):g()}else{if(i){i()}}}};b.prototype.handleUpdate=function(){this.adjustDialog()};b.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})};b.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};b.prototype.checkScrollbar=function(){var f=window.innerWidth;if(!f){var e=document.documentElement.getBoundingClientRect();f=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<f;this.scrollbarWidth=this.measureScrollbar()};b.prototype.setScrollbar=function(){var e=parseInt((this.$body.css("padding-right")||0),10);this.originalBodyPad=document.body.style.paddingRight||"";if(this.bodyIsOverflowing){this.$body.css("padding-right",e+this.scrollbarWidth)}};b.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};b.prototype.measureScrollbar=function(){var f=document.createElement("div");f.className="modal-scrollbar-measure";this.$body.append(f);var e=f.offsetWidth-f.clientWidth;this.$body[0].removeChild(f);return e};function c(e,f){return this.each(function(){var i=d(this);var h=i.data("bs.modal");var g=d.extend({},b.DEFAULTS,i.data(),typeof e=="object"&&e);if(!h){i.data("bs.modal",(h=new b(this,g)))}if(typeof e=="string"){h[e](f)}else{if(g.show){h.show(f)}}})}var a=d.fn.modal;d.fn.modal=c;d.fn.modal.Constructor=b;d.fn.modal.noConflict=function(){d.fn.modal=a;return this};d(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(j){var i=d(this);var g=i.attr("href");var f=d(i.attr("data-target")||(g&&g.replace(/.*(?=#[^\s]+$)/,"")));var h=f.data("bs.modal")?"toggle":d.extend({remote:!/#/.test(g)&&g},f.data(),i.data());if(i.is("a")){j.preventDefault()}f.one("show.bs.modal",function(e){if(e.isDefaultPrevented()){return}f.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})});c.call(f,h,this)})}(jQuery);+function(d){var c=function(f,e){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",f,e)};c.VERSION="3.3.7";c.TRANSITION_DURATION=150;c.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false,viewport:{selector:"body",padding:0}};c.prototype.init=function(l,j,g){this.enabled=true;this.type=l;this.$element=d(j);this.options=this.getOptions(g);this.$viewport=this.options.viewport&&d(d.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):(this.options.viewport.selector||this.options.viewport));this.inState={click:false,hover:false,focus:false};if(this.$element[0] instanceof document.constructor&&!this.options.selector){throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!")}var k=this.options.trigger.split(" ");for(var h=k.length;h--;){var f=k[h];if(f=="click"){this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this))}else{if(f!="manual"){var m=f=="hover"?"mouseenter":"focusin";var e=f=="hover"?"mouseleave":"focusout";this.$element.on(m+"."+this.type,this.options.selector,d.proxy(this.enter,this));this.$element.on(e+"."+this.type,this.options.selector,d.proxy(this.leave,this))}}}this.options.selector?(this._options=d.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()};c.prototype.getDefaults=function(){return c.DEFAULTS};c.prototype.getOptions=function(e){e=d.extend({},this.getDefaults(),this.$element.data(),e);if(e.delay&&typeof e.delay=="number"){e.delay={show:e.delay,hide:e.delay}}return e};c.prototype.getDelegateOptions=function(){var e={};var f=this.getDefaults();this._options&&d.each(this._options,function(g,h){if(f[g]!=h){e[g]=h}});return e};c.prototype.enter=function(f){var e=f instanceof this.constructor?f:d(f.currentTarget).data("bs."+this.type);if(!e){e=new this.constructor(f.currentTarget,this.getDelegateOptions());d(f.currentTarget).data("bs."+this.type,e)}if(f instanceof d.Event){e.inState[f.type=="focusin"?"focus":"hover"]=true}if(e.tip().hasClass("in")||e.hoverState=="in"){e.hoverState="in";return}clearTimeout(e.timeout);e.hoverState="in";if(!e.options.delay||!e.options.delay.show){return e.show()}e.timeout=setTimeout(function(){if(e.hoverState=="in"){e.show()}},e.options.delay.show)};c.prototype.isInStateTrue=function(){for(var e in this.inState){if(this.inState[e]){return true}}return false};c.prototype.leave=function(f){var e=f instanceof this.constructor?f:d(f.currentTarget).data("bs."+this.type);if(!e){e=new this.constructor(f.currentTarget,this.getDelegateOptions());d(f.currentTarget).data("bs."+this.type,e)}if(f instanceof d.Event){e.inState[f.type=="focusout"?"focus":"hover"]=false}if(e.isInStateTrue()){return}clearTimeout(e.timeout);e.hoverState="out";if(!e.options.delay||!e.options.delay.hide){return e.hide()}e.timeout=setTimeout(function(){if(e.hoverState=="out"){e.hide()}},e.options.delay.hide)};c.prototype.show=function(){var o=d.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(o);var p=d.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(o.isDefaultPrevented()||!p){return}var n=this;var l=this.tip();var h=this.getUID(this.type);this.setContent();l.attr("id",h);this.$element.attr("aria-describedby",h);if(this.options.animation){l.addClass("fade")}var k=typeof this.options.placement=="function"?this.options.placement.call(this,l[0],this.$element[0]):this.options.placement;var s=/\s?auto?\s?/i;var t=s.test(k);if(t){k=k.replace(s,"")||"top"}l.detach().css({top:0,left:0,display:"block"}).addClass(k).data("bs."+this.type,this);this.options.container?l.appendTo(this.options.container):l.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var q=this.getPosition();var f=l[0].offsetWidth;var m=l[0].offsetHeight;if(t){var j=k;var r=this.getPosition(this.$viewport);k=k=="bottom"&&q.bottom+m>r.bottom?"top":k=="top"&&q.top-m<r.top?"bottom":k=="right"&&q.right+f>r.width?"left":k=="left"&&q.left-f<r.left?"right":k;l.removeClass(j).addClass(k)}var i=this.getCalculatedOffset(k,q,f,m);this.applyPlacement(i,k);var g=function(){var e=n.hoverState;n.$element.trigger("shown.bs."+n.type);n.hoverState=null;if(e=="out"){n.leave(n)}};d.support.transition&&this.$tip.hasClass("fade")?l.one("bsTransitionEnd",g).emulateTransitionEnd(c.TRANSITION_DURATION):g()}};c.prototype.applyPlacement=function(j,k){var l=this.tip();var g=l[0].offsetWidth;var q=l[0].offsetHeight;var f=parseInt(l.css("margin-top"),10);var i=parseInt(l.css("margin-left"),10);if(isNaN(f)){f=0}if(isNaN(i)){i=0}j.top+=f;j.left+=i;d.offset.setOffset(l[0],d.extend({using:function(r){l.css({top:Math.round(r.top),left:Math.round(r.left)})}},j),0);l.addClass("in");var e=l[0].offsetWidth;var m=l[0].offsetHeight;if(k=="top"&&m!=q){j.top=j.top+q-m}var p=this.getViewportAdjustedDelta(k,j,e,m);if(p.left){j.left+=p.left}else{j.top+=p.top}var n=/top|bottom/.test(k);var h=n?p.left*2-g+e:p.top*2-q+m;var o=n?"offsetWidth":"offsetHeight";l.offset(j);this.replaceArrow(h,l[0][o],n)};c.prototype.replaceArrow=function(g,e,f){this.arrow().css(f?"left":"top",50*(1-g/e)+"%").css(f?"top":"left","")};c.prototype.setContent=function(){var f=this.tip();var e=this.getTitle();f.find(".tooltip-inner")[this.options.html?"html":"text"](e);f.removeClass("fade in top bottom left right")};c.prototype.hide=function(j){var g=this;var i=d(this.$tip);var h=d.Event("hide.bs."+this.type);function f(){if(g.hoverState!="in"){i.detach()}if(g.$element){g.$element.removeAttr("aria-describedby").trigger("hidden.bs."+g.type)}j&&j()}this.$element.trigger(h);if(h.isDefaultPrevented()){return}i.removeClass("in");d.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f();this.hoverState=null;return this};c.prototype.fixTitle=function(){var e=this.$element;if(e.attr("title")||typeof e.attr("data-original-title")!="string"){e.attr("data-original-title",e.attr("title")||"").attr("title","")}};c.prototype.hasContent=function(){return this.getTitle()};c.prototype.getPosition=function(g){g=g||this.$element;var i=g[0];var f=i.tagName=="BODY";var h=i.getBoundingClientRect();if(h.width==null){h=d.extend({},h,{width:h.right-h.left,height:h.bottom-h.top})}var k=window.SVGElement&&i instanceof window.SVGElement;var l=f?{top:0,left:0}:(k?null:g.offset());var e={scroll:f?document.documentElement.scrollTop||document.body.scrollTop:g.scrollTop()};var j=f?{width:d(window).width(),height:d(window).height()}:null;return d.extend({},h,e,j,l)};c.prototype.getCalculatedOffset=function(e,h,f,g){return e=="bottom"?{top:h.top+h.height,left:h.left+h.width/2-f/2}:e=="top"?{top:h.top-g,left:h.left+h.width/2-f/2}:e=="left"?{top:h.top+h.height/2-g/2,left:h.left-f}:{top:h.top+h.height/2-g/2,left:h.left+h.width}};c.prototype.getViewportAdjustedDelta=function(h,k,e,j){var m={top:0,left:0};if(!this.$viewport){return m}var g=this.options.viewport&&this.options.viewport.padding||0;var l=this.getPosition(this.$viewport);if(/right|left/.test(h)){var n=k.top-g-l.scroll;var i=k.top+g-l.scroll+j;if(n<l.top){m.top=l.top-n}else{if(i>l.top+l.height){m.top=l.top+l.height-i}}}else{var o=k.left-g;var f=k.left+g+e;if(o<l.left){m.left=l.left-o}else{if(f>l.right){m.left=l.left+l.width-f}}}return m};c.prototype.getTitle=function(){var g;var e=this.$element;var f=this.options;g=e.attr("data-original-title")||(typeof f.title=="function"?f.title.call(e[0]):f.title);return g};c.prototype.getUID=function(e){do{e+=~~(Math.random()*1000000)}while(document.getElementById(e));return e};c.prototype.tip=function(){if(!this.$tip){this.$tip=d(this.options.template);if(this.$tip.length!=1){throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!")}}return this.$tip};c.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow"))};c.prototype.enable=function(){this.enabled=true};c.prototype.disable=function(){this.enabled=false};c.prototype.toggleEnabled=function(){this.enabled=!this.enabled};c.prototype.toggle=function(g){var f=this;if(g){f=d(g.currentTarget).data("bs."+this.type);if(!f){f=new this.constructor(g.currentTarget,this.getDelegateOptions());d(g.currentTarget).data("bs."+this.type,f)}}if(g){f.inState.click=!f.inState.click;if(f.isInStateTrue()){f.enter(f)}else{f.leave(f)}}else{f.tip().hasClass("in")?f.leave(f):f.enter(f)}};c.prototype.destroy=function(){var e=this;clearTimeout(this.timeout);this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type);if(e.$tip){e.$tip.detach()}e.$tip=null;e.$arrow=null;e.$viewport=null;e.$element=null})};function b(e){return this.each(function(){var h=d(this);var g=h.data("bs.tooltip");var f=typeof e=="object"&&e;if(!g&&/destroy|hide/.test(e)){return}if(!g){h.data("bs.tooltip",(g=new c(this,f)))}if(typeof e=="string"){g[e]()}})}var a=d.fn.tooltip;d.fn.tooltip=b;d.fn.tooltip.Constructor=c;d.fn.tooltip.noConflict=function(){d.fn.tooltip=a;return this}}(jQuery);+function(d){var c=function(f,e){this.init("popover",f,e)};if(!d.fn.tooltip){throw new Error("Popover requires tooltip.js")}c.VERSION="3.3.7";c.DEFAULTS=d.extend({},d.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});c.prototype=d.extend({},d.fn.tooltip.Constructor.prototype);c.prototype.constructor=c;c.prototype.getDefaults=function(){return c.DEFAULTS};c.prototype.setContent=function(){var g=this.tip();var f=this.getTitle();var e=this.getContent();g.find(".popover-title")[this.options.html?"html":"text"](f);g.find(".popover-content").children().detach().end()[this.options.html?(typeof e=="string"?"html":"append"):"text"](e);g.removeClass("fade top bottom left right in");if(!g.find(".popover-title").html()){g.find(".popover-title").hide()}};c.prototype.hasContent=function(){return this.getTitle()||this.getContent()};c.prototype.getContent=function(){var e=this.$element;var f=this.options;return e.attr("data-content")||(typeof f.content=="function"?f.content.call(e[0]):f.content)};c.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find(".arrow"))};function b(e){return this.each(function(){var h=d(this);var g=h.data("bs.popover");var f=typeof e=="object"&&e;if(!g&&/destroy|hide/.test(e)){return}if(!g){h.data("bs.popover",(g=new c(this,f)))}if(typeof e=="string"){g[e]()}})}var a=d.fn.popover;d.fn.popover=b;d.fn.popover.Constructor=c;d.fn.popover.noConflict=function(){d.fn.popover=a;return this}}(jQuery);+function(d){var b=function(f){this.element=d(f)};b.VERSION="3.3.7";b.TRANSITION_DURATION=150;b.prototype.show=function(){var l=this.element;var h=l.closest("ul:not(.dropdown-menu)");var g=l.data("target");if(!g){g=l.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}if(l.parent("li").hasClass("active")){return}var j=h.find(".active:last a");var k=d.Event("hide.bs.tab",{relatedTarget:l[0]});var i=d.Event("show.bs.tab",{relatedTarget:j[0]});j.trigger(k);l.trigger(i);if(i.isDefaultPrevented()||k.isDefaultPrevented()){return}var f=d(g);this.activate(l.closest("li"),h);this.activate(f,f.parent(),function(){j.trigger({type:"hidden.bs.tab",relatedTarget:l[0]});l.trigger({type:"shown.bs.tab",relatedTarget:j[0]})})};b.prototype.activate=function(h,g,k){var f=g.find("> .active");var j=k&&d.support.transition&&(f.length&&f.hasClass("fade")||!!g.find("> .fade").length);function i(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",false);h.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",true);if(j){h[0].offsetWidth;h.addClass("in")}else{h.removeClass("fade")}if(h.parent(".dropdown-menu").length){h.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",true)}k&&k()}f.length&&j?f.one("bsTransitionEnd",i).emulateTransitionEnd(b.TRANSITION_DURATION):i();f.removeClass("in")};function c(f){return this.each(function(){var h=d(this);var g=h.data("bs.tab");if(!g){h.data("bs.tab",(g=new b(this)))}if(typeof f=="string"){g[f]()}})}var a=d.fn.tab;d.fn.tab=c;d.fn.tab.Constructor=b;d.fn.tab.noConflict=function(){d.fn.tab=a;return this};var e=function(f){f.preventDefault();c.call(d(this),"show")};d(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery);+function(d){var c=function(f,e){this.options=d.extend({},c.DEFAULTS,e);this.$target=d(this.options.target).on("scroll.bs.affix.data-api",d.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",d.proxy(this.checkPositionWithEventLoop,this));this.$element=d(f);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()};c.VERSION="3.3.7";c.RESET="affix affix-top affix-bottom";c.DEFAULTS={offset:0,target:window};c.prototype.getState=function(n,m,f,g){var e=this.$target.scrollTop();var i=this.$element.offset();var j=this.$target.height();if(f!=null&&this.affixed=="top"){return e<f?"top":false}if(this.affixed=="bottom"){if(f!=null){return(e+this.unpin<=i.top)?false:"bottom"}return(e+j<=n-g)?false:"bottom"}var h=this.affixed==null;var l=h?e:i.top;var k=h?j:m;if(f!=null&&e<=f){return"top"}if(g!=null&&(l+k>=n-g)){return"bottom"}return false};c.prototype.getPinnedOffset=function(){if(this.pinnedOffset){return this.pinnedOffset}this.$element.removeClass(c.RESET).addClass("affix");var f=this.$target.scrollTop();var e=this.$element.offset();return(this.pinnedOffset=e.top-f)};c.prototype.checkPositionWithEventLoop=function(){setTimeout(d.proxy(this.checkPosition,this),1)};c.prototype.checkPosition=function(){if(!this.$element.is(":visible")){return}var f=this.$element.height();var l=this.options.offset;var j=l.top;var h=l.bottom;var i=Math.max(d(document).height(),d(document.body).height());if(typeof l!="object"){h=j=l}if(typeof j=="function"){j=l.top(this.$element)}if(typeof h=="function"){h=l.bottom(this.$element)}var g=this.getState(i,f,j,h);if(this.affixed!=g){if(this.unpin!=null){this.$element.css("top","")}var m="affix"+(g?"-"+g:"");var k=d.Event(m+".bs.affix");this.$element.trigger(k);if(k.isDefaultPrevented()){return}this.affixed=g;this.unpin=g=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(c.RESET).addClass(m).trigger(m.replace("affix","affixed")+".bs.affix")}if(g=="bottom"){this.$element.offset({top:i-f-h})}};function b(e){return this.each(function(){var h=d(this);var g=h.data("bs.affix");var f=typeof e=="object"&&e;if(!g){h.data("bs.affix",(g=new c(this,f)))}if(typeof e=="string"){g[e]()}})}var a=d.fn.affix;d.fn.affix=b;d.fn.affix.Constructor=c;d.fn.affix.noConflict=function(){d.fn.affix=a;return this};d(window).on("load",function(){d('[data-spy="affix"]').each(function(){var f=d(this);var e=f.data();e.offset=e.offset||{};if(e.offsetBottom!=null){e.offset.bottom=e.offsetBottom}if(e.offsetTop!=null){e.offset.top=e.offsetTop}b.call(f,e)})})}(jQuery);+function(d){var e=function(g,f){this.$element=d(g);this.options=d.extend({},e.DEFAULTS,f);this.$trigger=d('[data-toggle="collapse"][href="#'+g.id+'"],[data-toggle="collapse"][data-target="#'+g.id+'"]');this.transitioning=null;if(this.options.parent){this.$parent=this.getParent()}else{this.addAriaAndCollapsedClass(this.$element,this.$trigger)}if(this.options.toggle){this.toggle()}};e.VERSION="3.3.7";e.TRANSITION_DURATION=350;e.DEFAULTS={toggle:true};e.prototype.dimension=function(){var f=this.$element.hasClass("width");return f?"width":"height"};e.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in")){return}var h;var j=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(j&&j.length){h=j.data("bs.collapse");if(h&&h.transitioning){return}}var g=d.Event("show.bs.collapse");this.$element.trigger(g);if(g.isDefaultPrevented()){return}if(j&&j.length){b.call(j,"hide");h||j.data("bs.collapse",null)}var k=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[k](0).attr("aria-expanded",true);this.$trigger.removeClass("collapsed").attr("aria-expanded",true);this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("collapse in")[k]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!d.support.transition){return f.call(this)}var i=d.camelCase(["scroll",k].join("-"));this.$element.one("bsTransitionEnd",d.proxy(f,this)).emulateTransitionEnd(e.TRANSITION_DURATION)[k](this.$element[0][i])};e.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in")){return}var g=d.Event("hide.bs.collapse");this.$element.trigger(g);if(g.isDefaultPrevented()){return}var h=this.dimension();this.$element[h](this.$element[h]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",false);this.$trigger.addClass("collapsed").attr("aria-expanded",false);this.transitioning=1;var f=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!d.support.transition){return f.call(this)}this.$element[h](0).one("bsTransitionEnd",d.proxy(f,this)).emulateTransitionEnd(e.TRANSITION_DURATION)};e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};e.prototype.getParent=function(){return d(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(d.proxy(function(h,g){var f=d(g);this.addAriaAndCollapsedClass(c(f),f)},this)).end()};e.prototype.addAriaAndCollapsedClass=function(g,f){var h=g.hasClass("in");g.attr("aria-expanded",h);f.toggleClass("collapsed",!h).attr("aria-expanded",h)};function c(f){var g;var h=f.attr("data-target")||(g=f.attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,"");return d(h)}function b(f){return this.each(function(){var i=d(this);var h=i.data("bs.collapse");var g=d.extend({},e.DEFAULTS,i.data(),typeof f=="object"&&f);if(!h&&g.toggle&&/show|hide/.test(f)){g.toggle=false}if(!h){i.data("bs.collapse",(h=new e(this,g)))}if(typeof f=="string"){h[f]()}})}var a=d.fn.collapse;d.fn.collapse=b;d.fn.collapse.Constructor=e;d.fn.collapse.noConflict=function(){d.fn.collapse=a;return this};d(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(j){var i=d(this);if(!i.attr("data-target")){j.preventDefault()}var f=c(i);var h=f.data("bs.collapse");var g=h?"toggle":i.data();b.call(f,g)})}(jQuery);+function(b){function a(){var e=document.createElement("bootstrap");var d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in d){if(e.style[c]!==undefined){return{end:d[c]}}}return false}b.fn.emulateTransitionEnd=function(e){var d=false;var c=this;b(this).one("bsTransitionEnd",function(){d=true});var f=function(){if(!d){b(c).trigger(b.support.transition.end)}};setTimeout(f,e);return this};b(function(){b.support.transition=a();if(!b.support.transition){return}b.event.special.bsTransitionEnd={bindType:b.support.transition.end,delegateType:b.support.transition.end,handle:function(c){if(b(c.target).is(this)){return c.handleObj.handler.apply(this,arguments)}}}})}(jQuery);$(document).ready(function(){$.ajaxSetup({beforeSend:function(a){a.overrideMimeType("text/html; charset=UTF-8")}});$(window).on("unload",function(){$("#advfilters").modal("hide")});$("body").on("click","a.doi-link",function(e){e.preventDefault();var d=$(this);var c=d.attr("href");var b=d.attr("data-ostiid");var a=c.replace(/http[s]?:\/\//,"");if(b!=null&&a!=null){if(d.attr("data-product-type")){_gaq.push(["_setCustomVar",1,"Product Type",d.attr("data-product-type"),3])}if(d.attr("data-product-subtype")){_gaq.push(["_setCustomVar",2,"Product Subtype",d.attr("data-product-subtype"),3])}_gaq.push(["_trackPageview",$("body").attr("data-context")+"/downloads/doi/"+b]);$.ajax({type:"GET",url:$("body").attr("data-context")+"/biblio/"+b+"/log.download",data:{purl:a}})}if(d.attr("target")=="_blank"){window.open(c)}else{window.location=c}}).on("click","a.fulltext-link",function(c){var b=$(this);var a=b.attr("data-ostiid");if(b.attr("data-product-type")){_gaq.push(["_setCustomVar",1,"Product Type",b.attr("data-product-type"),3])}if(b.attr("data-product-subtype")){_gaq.push(["_setCustomVar",2,"Product Subtype",b.attr("data-product-subtype"),3])}_gaq.push(["_trackPageview",$("body").attr("data-context")+"/downloads/media/"+a])}).on("click","a.export-link",function(e){e.preventDefault();var d=$(this);var c=d.attr("data-export");var f=d.attr("data-format");var b=d.attr("data-ostiid");var a;if(c=="search"){a=window.location.pathname.replace("/search","/export/format:"+((f=="csv"||f=="xml"||f=="ris")?f:"excel")+"").replace(/\/?$/,"/");_gaq.push(["_trackPageview",a]);location.href=a}if(c=="biblio"){a=$("body").attr("data-context")+"/export/format:"+((f=="csv"||f=="xml"||f=="enw"||f=="ris")?f:"excel")+"/osti-id:"+b;_gaq.push(["_trackPageview",a]);location.href=a}}).on("click","a.ga-click-event",function(b){var a=$(this);_gaq.push(["_trackEvent",a.attr("data-category"),a.attr("data-action"),a.attr("data-label")])});$("#searchQuery").focus();$(".search-container .dropdown-menu").find("a").click(function(c){c.preventDefault();var d=$(this).attr("href").replace("#","");var b=$(this).text();var a=$(this).attr("data-restype");$(".search-container span#search_concept").text(b);$(".input-group #search_param").val(d);$("#index_search_restype").val(a)});$(".restype-links a.btn").on("click",function(a){a.preventDefault();$(".restype-links a.btn").removeClass("selected");$(this).addClass("selected");$("#index_search_restype").val($(this).attr("data-restype"));if($(this).attr("data-restype")=="FM"||$(this).attr("data-restype")=="FD"){$("#type").attr("disabled",true).prop("selectedIndex",0)}else{$("#type").attr("disabled",false)}});$(".copyterms").change(function(){$(".copyterms").val($(this).val())});$("input.dateinput").tooltip({trigger:"focus"});$("a.advtip").tooltip({container:"#advsearch_body"});if($("#adv-is_clear").attr("data-orig")=="true"){$("#advfilters").modal("show")}});function _updateSearchHighlights(){var c=($("#searchQuery").val().split("~")[0]).match(/("[^"]+"|[^"\s]+){3,}?/g)||[];c=$.merge($("#adv-biblio").val().match(/("[^"]+"|[^"\s]+){3,}?/g)||[],c);var b=$("#adv-doctitle").val().match(/("[^"]+"|[^"\s]+){3,}?/g)||[];var d=$("#adv-creators").val().match(/("[^"]+"|[^"\s]+){3,}?/g)||[];for(var a=0;a<c.length;a++){c[a]=c[a].replace(/"/g,"")}for(var a=0;a<b.length;a++){b[a]=b[a].replace(/"/g,"")}for(var a=0;a<d.length;a++){d[a]=d[a].replace(/"/g,"")}c=$.grep(c,function(e){return !(/^(and|or|not|the)$/.exec(e.toLowerCase()))});b=$.grep(b,function(e){return !(/^(and|or|not|the)$/.exec(e.toLowerCase()))});d=$.grep(d,function(e){return !(/^(and|or|not|the)$/.exec(e.toLowerCase()))});$("ol.item-list").highlight(c,{wordsOnly:true});$("ol.item-list div.title").highlight(b,{wordsOnly:true});$("ol.item-list span.authors").highlight(d,{wordsOnly:true})}function exportSearch(a){location.href=window.location.href.replace("/search","/export/format:"+((a=="csv"||a=="xml")?a:"excel")+"").replace(/\/?$/,"/")}function sortFlag(b){var c={"filesize desc":'Full <span style="white-space:nowrap;">Text<strong class="caret" style="margin-left:3px;"></strong></span>',"osti_id asc":'OSTI <span style="white-space:nowrap;">ID<strong class="caret" style="margin-left:3px;"></strong></span>',"report_number desc":'Report <span style="white-space:nowrap;">No.<strong class="caret" style="margin-left:3px;"></strong></span>',"sproduct_type asc":'<span style="white-space:nowrap;">Type<strong class="caret" style="margin-left:3px;"></strong></span>',"stitle asc":'<span style="white-space:nowrap;">Title<strong class="caret" style="margin-left:3px;"></strong></span>',"screators asc":'<span style="white-space:nowrap;">Authors<strong class="caret" style="margin-left:3px;"></strong></span>',"publication_date desc":'Pub. <span style="white-space:nowrap;">Date<strong class="caret" style="margin-left:3px;"></strong></span>',"sresearch_org asc":'<span style="white-space:nowrap;">Research Org.<strong class="caret" style="margin-left:3px;"></strong></span>',"ssponsor_org asc":'<span style="white-space:nowrap;">Sponsor Org.<strong class="caret" style="margin-left:3px;"></strong></span>'};var a={"filesize desc":'<a href="#" class="sort-link" data-sort="filesize desc">Full Text</a>',"osti_id asc":'<a href="#" class="sort-link" data-sort="osti_id asc">OSTI ID</a>',"report_number desc":'<a href="#" class="sort-link" data-sort="report_number desc">Report No.</a>',"sproduct_type asc":'<a href="#" class="sort-link" data-sort="sproduct_type asc">Type</a>',"stitle asc":'<a href="#" class="sort-link" data-sort="stitle asc">Title</a>',"screators asc":'<a href="#" class="sort-link" data-sort="screators asc">Authors</a>',"publication_date desc":'<a href="#" class="sort-link" data-sort="publication_date desc">Pub. Date</a>',"sresearch_org asc":'<a href="#" class="sort-link" data-sort="sresearch_org asc">Research Org.</a>',"ssponsor_org asc":'<a href="#" class="sort-link" data-sort="ssponsor_org asc">Sponsor Org.</a>'};if(b==$("#adv-sort").val()){return c[b]}else{return a[b]}}function clearAdv(){$(":input","#index_search").not(":button, :submit, :reset, #index_search_schtype, #index_search_restype, #index_search_search").val("").removeAttr("checked").removeAttr("selected");$("#adv-sort").val("score desc")}function toggleAdv(){$("div.shade").toggle();if($("div.shade").filter(":visible").length>0){$(".adv_toggle_container").removeClass("on");$("#semsrch_toggle").parent().addClass("on");$("#adv_toggle").parent().addClass("hide");$("#adv_details").fadeIn();$("#index_search_schtype").val("adv")}else{toggleBsc()}return false}function toggleBsc(){$(".adv_toggle_container").removeClass("on");$("#trmsrch_toggle").parent().addClass("on");$("#adv_toggle").parent().removeClass("hide");$("div.shade").hide();$("#adv_details").hide();$("#index_search_schtype").val("bsc");return false}function toggleSemType(a){if(a=="bsc"||a=="term"){$(".adv_toggle_container").removeClass("on");$("#trmsrch_toggle").parent().addClass("on");$("#index_search_semtype").val("term");$("#adv-allfields_type-label").text("Term")}else{$(".adv_toggle_container").removeClass("on");$("#semsrch_toggle").parent().addClass("on");$("#index_search_semtype").val("semantic");$("#adv-allfields_type-label").text("Semantic")}return false}function notEmptyVal(a){a=$.trim(a.replace(/\b[-.,()&$#!\[\]{}"']+\B|\B[-.,()&$#!\[\]{}"']+\b/g,""));if((a==null)||(a=="")||(!(a instanceof Array)&&((a.length<2)||(a.toLowerCase()=="n/a")||(a.toLowerCase()=="none")||(a.toLowerCase()=="not available")||(a.toLowerCase()=="no abstract provided")||(a.toLowerCase()=="no abstract available")||(a.toLowerCase()=="abstract not provided")||(a.toLowerCase()=="no abstract prepared")||(a.toLowerCase()=="et al")||(a.toLowerCase()=="unknown")))){return false}else{return true}}function treatAsFullText(b,a){if(!b||a=="Dataset"){return false}else{return true}}function numberWithCommas(a){if(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}else{return a}}function getDoclist(d){var c=(null==d)?",":d;var b=new Array();$.each($("input.doclist-oid:checked"),function(){b.push($(this).val())});var a=b.join(c);return a}var TemplateEngine=function(d,c){var e=/<%([^%>]+)?%>/g,a=/(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g,f="var r=[];\n",h=0,b;var g=function(i,j){j?(f+=i.match(a)?i+"\n":"r.push("+i+");\n"):(f+=i!=""?'r.push("'+i.replace(/"/g,'\\"')+'");\n':"");return g};while(b=e.exec(d)){g(d.slice(h,b.index))(b[1],true);h=b.index+b[0].length}g(d.substr(h,d.length-h));f+='return r.join("");';return new Function(f.replace(/[\r\t\n]/g,"")).apply(c)};var template_citation_table_rows='<%for(var idx in this) {%><tr><td><%if(this[idx].doi) {%><a href="https://doi.org/<%this[idx].doi%>" target="_blank"><%this[idx].title%> <span class="fa fa-external-link" aria-hidden="true" style="margin-left:3px; font-size:0.85em;"></span></a><br/><%} else {%><%this[idx].title%><br/><%}%><small class="text-muted"><%(this[idx].authors || "").split(\';\').slice(0,3).join(\';\')%></small><br/><small class="text-muted"><%this[idx].pub_date%> -- <%this[idx].source%></small></td></tr><%}%>';var template_citation_tree_rows='<%if(this.length) {%><%for(var idx in this) {%><div class="entry" data-doi="<%this[idx].doi%>" data-wosid="<%this[idx].wos_id%>"><span class="label"><div class="label-title small"><%this[idx].title%></div><div class="label-authors small"><%(this[idx].authors || "").split(\';\').slice(0,3).join(\';\')%></div><div class="label-doi text-muted clearfix"><span class="label-date pull-right"><%this[idx].pub_date.slice(-4)%></span><span class="source-references"><%this[idx].source%></span></div><div class="label-select"><span class="text-info"><span class="fa fa-arrow-left text-primary" aria-hidden="true"></span> View <span class="fa fa-arrow-right text-primary" aria-hidden="true"></span></span></div></span></div><%}%><%} else {%><div class="text-center text-muted small" style="padding:50px;">No data available.</div><%}%>';(function(f){if("undefined"===typeof f){if("console" in window){window.console.info("Too much lightness, Featherlight needs jQuery.")}return}function a(j,i){if(this instanceof a){this.id=a.id++;this.setup(j,i);this.chainCallbacks(a._callbackChain)}else{var k=new a(j,i);k.open();return k}}var g=[],h=function(i){g=f.grep(g,function(j){return j!==i&&j.$instance.closest("body").length>0});return g};var b=function(o,n){var i={},m=new RegExp("^"+n+"([A-Z])(.*)");for(var k in o){var j=k.match(m);if(j){var l=(j[1]+j[2].replace(/([A-Z])/g,"-$1")).toLowerCase();i[l]=o[k]}}return i};var e={keyup:"onKeyUp",resize:"onResize"};var c=function(i){f.each(a.opened().reverse(),function(){if(!i.isDefaultPrevented()){if(false===this[e[i.type]](i)){i.preventDefault();i.stopPropagation();return false}}})};var d=function(j){if(j!==a._globalHandlerInstalled){a._globalHandlerInstalled=j;var i=f.map(e,function(l,k){return k+"."+a.prototype.namespace}).join(" ");f(window)[j?"on":"off"](i,c)}};a.prototype={constructor:a,namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:false,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:true,closeIcon:"&#10005;",loading:"",persist:false,otherClose:null,beforeOpen:f.noop,beforeContent:f.noop,beforeClose:f.noop,afterOpen:f.noop,afterContent:f.noop,afterClose:f.noop,onKeyUp:f.noop,onResize:f.noop,type:null,contentFilters:["jquery","image","html","ajax","iframe","text"],setup:function(n,l){if(typeof n==="object"&&n instanceof f===false&&!l){l=n;n=undefined}var j=f.extend(this,l,{target:n}),m=!j.resetCss?j.namespace:j.namespace+"-reset",k=f(j.background||['<div class="'+m+"-loading "+m+'">','<div class="'+m+'-content">','<span class="'+m+"-close-icon "+j.namespace+'-close">',j.closeIcon,"</span>",'<div class="'+j.namespace+'-inner">'+j.loading+"</div>","</div>","</div>"].join("")),i="."+j.namespace+"-close"+(j.otherClose?","+j.otherClose:"");j.$instance=k.clone().addClass(j.variant);j.$instance.on(j.closeTrigger+"."+j.namespace,function(p){var o=f(p.target);if(("background"===j.closeOnClick&&o.is("."+j.namespace))||"anywhere"===j.closeOnClick||o.closest(i).length){j.close(p);p.preventDefault()}});return this},getContent:function(){if(this.persist!==false&&this.$content){return this.$content}var j=this,n=this.constructor.contentFilters,i=function(q){return j.$currentTarget&&j.$currentTarget.attr(q)},m=i(j.targetAttr),o=j.target||m||"";var l=n[j.type];if(!l&&o in n){l=n[o];o=j.target&&m}o=o||i("href")||"";if(!l){for(var k in n){if(j[k]){l=n[k];o=j[k]}}}if(!l){var p=o;o=null;f.each(j.contentFilters,function(){l=n[this];if(l.test){o=l.test(p)}if(!o&&l.regex&&p.match&&p.match(l.regex)){o=p}return !o});if(!o){if("console" in window){window.console.error("Featherlight: no content filter found "+(p?' for "'+p+'"':" (no target specified)"))}return false}}return l.process.call(j,o)},setContent:function(j){var i=this;if(j.is("iframe")||f("iframe",j).length>0){i.$instance.addClass(i.namespace+"-iframe")}i.$instance.removeClass(i.namespace+"-loading");i.$instance.find("."+i.namespace+"-inner").not(j).slice(1).remove().end().replaceWith(f.contains(i.$instance[0],j[0])?"":j);i.$content=j.addClass(i.namespace+"-inner");return i},open:function(k){var i=this;i.$instance.hide().appendTo(i.root);if((!k||!k.isDefaultPrevented())&&i.beforeOpen(k)!==false){if(k){k.preventDefault()}var j=i.getContent();if(j){g.push(i);d(true);i.$instance.fadeIn(i.openSpeed);i.beforeContent(k);return f.when(j).always(function(l){i.setContent(l);i.afterContent(k)}).then(i.$instance.promise()).done(function(){i.afterOpen(k)})}}i.$instance.detach();return f.Deferred().reject().promise()},close:function(k){var j=this,i=f.Deferred();if(j.beforeClose(k)===false){i.reject()}else{if(0===h(j).length){d(false)}j.$instance.fadeOut(j.closeSpeed,function(){j.$instance.detach();j.afterClose(k);i.resolve()})}return i.promise()},resize:function(i,k){if(i&&k){this.$content.css("width","").css("height","");var j=Math.max(i/(parseInt(this.$content.parent().css("width"),10)-1),k/(parseInt(this.$content.parent().css("height"),10)-1));if(j>1){j=k/Math.floor(k/j);this.$content.css("width",""+i/j+"px").css("height",""+k/j+"px")}}},chainCallbacks:function(j){for(var i in j){this[i]=f.proxy(j[i],this,f.proxy(this[i],this))}}};f.extend(a,{id:0,autoBind:"[data-featherlight]",defaults:a.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(i){return i instanceof f&&i},process:function(i){return this.persist!==false?f(i):f(i).clone(true)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff|bmp|svg)(\?\S*)?$/i,process:function(l){var k=this,j=f.Deferred(),i=new Image(),m=f('<img src="'+l+'" alt="" class="'+k.namespace+'-image" />');i.onload=function(){m.naturalWidth=i.width;m.naturalHeight=i.height;j.resolve(m)};i.onerror=function(){j.reject(m)};i.src=l;return j.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(i){return f(i)}},ajax:{regex:/./,process:function(k){var j=this,i=f.Deferred();var l=f("<div></div>").load(k,function(n,m){if(m!=="error"){i.resolve(l.contents())}i.fail()});return i.promise()}},iframe:{process:function(k){var i=new f.Deferred();var j=f("<iframe/>").hide().attr("src",k).css(b(this,"iframe")).on("load",function(){i.resolve(j.show())}).appendTo(this.$instance.find("."+this.namespace+"-content"));return i.promise()}},text:{process:function(i){return f("<div>",{text:i})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(j,k){var l=this,m=new RegExp("^data-"+k+"-(.*)"),i={};if(j&&j.attributes){f.each(j.attributes,function(){var o=this.name.match(m);if(o){var q=this.value,n=f.camelCase(o[1]);if(f.inArray(n,l.functionAttributes)>=0){q=new Function(q)}else{try{q=f.parseJSON(q)}catch(p){}}i[n]=q}})}return i},extend:function(k,j){var i=function(){this.constructor=k};i.prototype=this.prototype;k.prototype=new i();k.__super__=this.prototype;f.extend(k,this,j);k.defaults=k.prototype;return k},attach:function(o,j,i){var m=this;if(typeof j==="object"&&j instanceof f===false&&!i){i=j;j=undefined}i=f.extend({},i);var k=i.namespace||m.defaults.namespace,l=f.extend({},m.defaults,m.readElementConfig(o[0],k),i),n;o.on(l.openTrigger+"."+l.namespace,l.filter,function(q){var p=f.extend({$source:o,$currentTarget:f(this)},m.readElementConfig(o[0],l.namespace),m.readElementConfig(this,l.namespace),i);var r=n||f(this).data("featherlight-persisted")||new m(j,p);if(r.persist==="shared"){n=r}else{if(r.persist!==false){f(this).data("featherlight-persisted",r)}}p.$currentTarget.blur();r.open(q)});return o},current:function(){var i=this.opened();return i[i.length-1]||null},opened:function(){var i=this;h();return f.grep(g,function(j){return j instanceof i})},close:function(i){var j=this.current();if(j){return j.close(i)}},_onReady:function(){var i=this;if(i.autoBind){f(i.autoBind).each(function(){i.attach(f(this))});f(document).on("click",i.autoBind,function(j){if(j.isDefaultPrevented()||j.namespace==="featherlight"){return}j.preventDefault();i.attach(f(j.currentTarget));f(j.target).trigger("click.featherlight")})}},_callbackChain:{onKeyUp:function(j,i){if(27===i.keyCode){if(this.closeOnEsc){f.featherlight.close(i)}return false}else{return j(i)}},onResize:function(j,i){this.resize(this.$content.naturalWidth,this.$content.naturalHeight);return j(i)},afterContent:function(k,j){var i=k(j);this.onResize(j);return i}}});f.featherlight=a;f.fn.featherlight=function(j,i){return a.attach(this,j,i)};f(document).ready(function(){a._onReady()})}(jQuery));